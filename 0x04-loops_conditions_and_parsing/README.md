Shell loops, conditions and parsing huh? been a long time coming